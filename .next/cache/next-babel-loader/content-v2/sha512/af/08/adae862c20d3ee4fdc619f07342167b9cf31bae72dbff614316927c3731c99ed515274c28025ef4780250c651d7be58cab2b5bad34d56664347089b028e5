{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/shubhangi13/Home/Orgs/MERN-frontend/src/pages/index.tsx\";\nimport DropZoneComponent from \"@components/DropZoneComponent\";\nimport RenderFile from \"@components/RenderFile\";\nimport { useState } from \"react\";\nimport axios from 'axios';\nimport DownloadFile from \"@components/DownloadFile\";\nimport EmailForm from \"@components/EmailForm\";\nexport default function Home() {\n  const {\n    0: file,\n    1: setFile\n  } = useState(null);\n  const {\n    0: id,\n    1: setId\n  } = useState(null);\n  const {\n    0: downloadPageLink,\n    1: setDownloadPageLink\n  } = useState(null);\n  const {\n    0: uploadState,\n    1: setUploadState\n  } = useState(\"Upload\");\n\n  const handleUpload = async () => {\n    if (uploadState === \"Uploading\") return;\n    setUploadState(\"Uploading\");\n    const formData = new FormData();\n    formData.append(\"myFile\", file);\n\n    try {\n      const {\n        data\n      } = await axios({\n        method: \"post\",\n        data: formData,\n        url: \"api/files/upload\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setDownloadPageLink(data.downloadPageLink);\n      setId(data.id);\n      setUploadState(\"Upload Failed\");\n    } catch (error) {\n      console.log(error.response.data);\n    }\n  };\n\n  const resetComponent = () => {\n    setFile(null);\n    setDownloadPageLink(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" flex flex-col items-center justify-center bg-white dark:bg-black\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"animate-charcter font-sans text-center\",\n      children: \"DROP A FILE!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-96 flex flex-col items-center bg-gray-800 shadow-xl rounded-xl jutify-center\",\n      children: [!downloadPageLink && /*#__PURE__*/_jsxDEV(DropZoneComponent, {\n        setFile: setFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), file && /*#__PURE__*/_jsxDEV(RenderFile, {\n        file: {\n          format: file.type.split(\"/\")[1],\n          name: file.name,\n          sizeInBytes: file.size\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), !downloadPageLink && file && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-2 my-5 bg-gray-900 rounded-md w-44 focus:outline-none\",\n        onClick: handleUpload,\n        children: uploadState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), downloadPageLink && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(DownloadFile, {\n          downloadPageLink: downloadPageLink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EmailForm, {\n          id: id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"p-2 my-5 bg-gray-900 rounded-md w-44 focus:outline-none\",\n          onClick: resetComponent,\n          children: \"Upload New File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/home/shubhangi13/Home/Orgs/MERN-frontend/src/pages/index.tsx"],"names":["DropZoneComponent","RenderFile","useState","axios","DownloadFile","EmailForm","Home","file","setFile","id","setId","downloadPageLink","setDownloadPageLink","uploadState","setUploadState","handleUpload","formData","FormData","append","data","method","url","headers","error","console","log","response","resetComponent","format","type","split","name","sizeInBytes","size"],"mappings":"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","sourcesContent":["import DropZoneComponent from \"@components/DropZoneComponent\";\nimport RenderFile from \"@components/RenderFile\";\nimport { useState } from \"react\";\nimport axios from 'axios';\nimport DownloadFile from \"@components/DownloadFile\";\nimport EmailForm from \"@components/EmailForm\";\nexport default function Home() {\n\n  const [file, setFile] = useState(null)\n\n  const [id, setId] = useState(null)\n\n  const [downloadPageLink, setDownloadPageLink] = useState(null)\n\n  const [uploadState, setUploadState] = useState<\"Uploaded\"| \"Uploading\"| \"Upload Failed\" | \"Upload\">(\"Upload\")\n\n  const handleUpload = async () => {\n    if(uploadState===\"Uploading\") return;\n    setUploadState(\"Uploading\");\n    const formData = new FormData()\n    formData.append(\"myFile\",file)\n    try {\n      const {data}=await axios({\n        method: \"post\",\n        data : formData,\n        url: \"api/files/upload\",\n        headers:{\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setDownloadPageLink(data.downloadPageLink)\n      setId(data.id);\n      setUploadState(\"Upload Failed\")\n    } catch (error) {\n      console.log(error.response.data);\n\n      \n    }\n  }\n  \n  const resetComponent=()=>{\n    setFile(null)\n    setDownloadPageLink(null)\n  }\n  return (\n    <div className=\" flex flex-col items-center justify-center bg-white dark:bg-black\">\n      <h1 className=\"animate-charcter font-sans text-center\">DROP A FILE!</h1>\n      <div className=\"w-96 flex flex-col items-center bg-gray-800 shadow-xl rounded-xl jutify-center\">\n       { \n       !downloadPageLink&&\n        <DropZoneComponent setFile={setFile}/>\n       }\n        {/* render file */}\n        {\n          file&& (\n            <RenderFile file={{\n          format: file.type.split(\"/\")[1],\n          name: file.name,\n          sizeInBytes: file.size,\n        }}/>\n\n          )\n        }\n        {/* upload button */}\n\n        {\n          !downloadPageLink&& file&&(\n        <button className=\"p-2 my-5 bg-gray-900 rounded-md w-44 focus:outline-none\" onClick={handleUpload}>\n          {uploadState}\n        </button>\n          )\n        }\n\n\n        {\n          downloadPageLink&& (\n            <div className=\"p-2 text-center\">\n          <DownloadFile downloadPageLink={downloadPageLink}/>\n          <EmailForm id={id}/>\n          <button className=\"p-2 my-5 bg-gray-900 rounded-md w-44 focus:outline-none\" onClick={resetComponent}>Upload New File</button>\n          </div>\n          )\n        }\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}